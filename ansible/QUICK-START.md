# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞–º–∏ —Å –ü–ö

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

**–í—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ–º–∏ 8 —Å–µ—Ä–≤–µ—Ä–∞–º–∏ —Å –≤–∞—à–µ–≥–æ Windows –ü–ö!** –ù–µ –Ω—É–∂–Ω–æ –∑–∞—Ö–æ–¥–∏—Ç—å –Ω–∞ –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–µ—Ä –æ—Ç–¥–µ–ª—å–Ω–æ.

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Windows

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É** –≤ –ø–∞–ø–∫–µ `fastapi_xray/ansible`

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É**:
   ```cmd
   scripts\install-windows.bat
   ```

3. **–ì–æ—Ç–æ–≤–æ!** Ansible —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### –í–∞—Ä–∏–∞–Ω—Ç 2: WSL2 (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ WSL2**:
   ```powershell
   wsl --install
   ```

2. **–í WSL –≤—ã–ø–æ–ª–Ω–∏—Ç–µ**:
   ```bash
   cd /mnt/c/Users/arsya/Desktop/vpnservice/fastapi_xray/ansible
   chmod +x scripts/install.sh
   ./scripts/install.sh
   ```

## üéØ –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```cmd
scripts\manage-servers.bat -a check
```

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö
```cmd
scripts\manage-servers.bat -a deploy
```

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
```cmd
scripts\manage-servers.bat -a deploy -l uae-server
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```cmd
scripts\manage-servers.bat -a status
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Docker Compose
```cmd
scripts\manage-servers.bat -a compose -c up -b
```

## üåê –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

1. **Ansible –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è** –∫–æ –≤—Å–µ–º 8 —Å–µ—Ä–≤–µ—Ä–∞–º –ø–æ SSH
2. **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Docker** –Ω–∞ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–µ—Ä–µ
3. **–ö–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã** –ø—Ä–æ–µ–∫—Ç–∞ –≤ `/opt/fastapi_xray/`
4. **–ó–∞–ø—É—Å–∫–∞–µ—Ç Docker Compose** —Å –≤–∞—à–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
5. **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Nginx, Firewall, SSL** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —É –≤–∞—Å –±—É–¥–µ—Ç:

| –°–µ—Ä–≤–µ—Ä | IP –∞–¥—Ä–µ—Å | FastAPI | Xray VPN | Squid Proxy |
|--------|----------|---------|----------|-------------|
| üá¶üá™ –û–ê–≠ | 176.97.67.100 | http://176.97.67.100:8081 | 176.97.67.100:443 | 176.97.67.100:8888 |
| üáßüá∑ –ë—Ä–∞–∑–∏–ª–∏—è | 38.180.220.125 | http://38.180.220.125:8081 | 38.180.220.125:443 | 38.180.220.125:8888 |
| üá©üá™ –ì–µ—Ä–º–∞–Ω–∏—è | 37.1.199.23 | http://37.1.199.23:8081 | 37.1.199.23:443 | 37.1.199.23:8888 |
| üáØüáµ –Ø–ø–æ–Ω–∏—è | 176.97.71.56 | http://176.97.71.56:8081 | 176.97.71.56:443 | 176.97.71.56:8888 |
| üáπüá∑ –¢—É—Ä—Ü–∏—è | 5.180.45.191 | http://5.180.45.191:8081 | 5.180.45.191:443 | 5.180.45.191:8888 |
| üá™üá∏ –ò—Å–ø–∞–Ω–∏—è | 45.12.150.217 | http://45.12.150.217:8081 | 45.12.150.217:443 | 45.12.150.217:8888 |
| üá¶üá∫ –ê–≤—Å—Ç—Ä–∞–ª–∏—è | 45.15.185.58 | http://45.15.185.58:8081 | 45.15.185.58:443 | 45.15.185.58:8888 |
| üá∫üá∏ –°–®–ê | 94.131.101.213 | http://94.131.101.213:8081 | 94.131.101.213:443 | 94.131.101.213:8888 |

## ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

```cmd
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–µ—Ä—ã
scripts\manage-servers.bat -a check

# –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤—Å—ë
scripts\manage-servers.bat -a deploy

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
scripts\manage-servers.bat -a status

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
scripts\manage-servers.bat -a logs

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
scripts\manage-servers.bat -a restart
```

## üîß –ß—Ç–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–µ—Ä–µ

1. **Docker & Docker Compose** - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
2. **Xray VPN** - VPN —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 443, Reality –ø—Ä–æ—Ç–æ–∫–æ–ª)
3. **FastAPI** - API —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 8081)
4. **Squid Proxy** - HTTP –ø—Ä–æ–∫—Å–∏ (–ø–æ—Ä—Ç 8888)
5. **Nginx** - –í–µ–±-—Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 80)
6. **UFW Firewall** - –ó–∞—â–∏—Ç–∞
7. **Fail2ban** - –ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫

## üö® –í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–í—Å–µ –ø–∞—Ä–æ–ª–∏ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã** –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **SSL –æ—Ç–∫–ª—é—á–µ–Ω** (—Ä–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ –ø–æ IP)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫** –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –Ω–∞ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–µ—Ä–µ

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```cmd
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
ansible vpn_servers -m shell -a "docker ps"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å FastAPI
curl http://176.97.67.100:8081/health

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Xray VPN
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Reality –ø—Ä–æ—Ç–æ–∫–æ–ª —Å IP –∞–¥—Ä–µ—Å–æ–º –∏ –ø–æ—Ä—Ç–æ–º 443
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: `scripts\manage-servers.bat -a check`
2. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏**: `scripts\manage-servers.bat -a logs`
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ**: `scripts\manage-servers.bat -a restart`

---

**–ì–æ—Ç–æ–≤–æ!** üéâ –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ–º–∏ 8 VPN —Å–µ—Ä–≤–µ—Ä–∞–º–∏ —Å –≤–∞—à–µ–≥–æ –ü–ö –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π!
